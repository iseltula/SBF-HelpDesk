<script type="text/javascript">

  RED.nodes.registerType('text-dialog', {
    category: 'SBF',
    color: '#dddddd',
    icon: 'bridge.png',
    inputs: 1,
    outputs: 1,
    defaults: {
      name: {
        value: ''
		}      },
      label: function () {
          return this.name || 'text-dialog';
      },
      labelStyle: function () {
          return this.name === '' ? 'node_label_italic' : '';
      },
      mixins: {
          botPersonality: {
              container:"#node-input-dialog-container"
          }
      }
  });
</script>
<script type="text/x-red" data-template-name="text-dialog">
  <div class="form-row">
    <label for="node-input-name">Name</label>
    <input type="text" id="node-input-name" placeholder = "Name">
  </div>
  <h3>Dialog Message</h3>
  <div class="form-row">
    <ol id="node-input-dialog-container"></ol>
  </div>
</script>
<script type="text/x-red" data-help-name="text-dialog">
  <p><strong>Purpose: </strong> to display a dialog based on the results from the previous node and sentiment analysis.</p>
  <p><strong>How to use: </strong></p>
  <ul>
    <li>Set the name of the dialog.</li>
    <li>Click on add choice.</li>
    <ul>
      <li><strong>Add Choice:</strong> Set to the dialog. </li>
      <li><strong>Sentiment Number:</strong> Number based on which dialog should be selected.</li>
    </ul>
    <li>Click on Save to add the choice.</li>
    <li>Click on Done after adding all the choices.</li>
  </ul>
  <p><strong>Inputs: </strong> sbf object from the Intent Matcher and any result from previous dialogs.</p>
  <p><strong>Outputs: </strong> sets a new property to the message object.</p>
  <p><pre><code>node.send({
      sbf: {
        session: Object, // object of the Bot Framework session
        botServer: {
          bot: Object, // object of the Bot Framework Universal Bot
          intent: Object, // object of the builder.IntentDialog for LUIS
          connector: Object, // object of the builder.ChatConnector for listening to a URL
        },
        luisArgs: Object // object of the LUIS intent matching object
    });</code></pre></p>
  <p><strong>Quick Tips: </strong></p>
  <ul>
    <li>It is recommended to Deploy afer creating each dialog, to save the changes.</li>
    <li>If when deploy an error is display. Just re-open the dialog and Save it again. </li>    
  </ul>
</script>